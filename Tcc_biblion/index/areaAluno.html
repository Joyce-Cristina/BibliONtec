<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BibliOnTec - P√°gina inicial</title>
  <link rel="stylesheet" href="../css/style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<style>
    .menu-perfil.show {
  display: flex;
}
    .perfil-dropdown {
  position: relative;
  display: inline-block;
}

.avatar-navbar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
  object-fit: cover;
}

.menu-perfil {
  display: none;
  position: absolute;
  right: 0;
  top: 50px; /* Dist√¢ncia abaixo do avatar */
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 6px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.2);
  min-width: 180px;
  z-index: 1000;
  flex-direction: column;
}

.menu-perfil a {
  padding: 10px 15px;
  text-decoration: none;
  display: block;
  color: #333;
  font-weight: 500;
}

.menu-perfil a:hover {
  background-color: #f0f0f0;
}
.menu-perfil hr.menu-divider {
  margin: 5px 0;
  border: none;
  border-top: 1px solid #ccc;
}


  </style>
</head>

<body>

  <!--Navbar-->
  <nav class="navbar-custom">
  <div class="navbar-left">
    <a href="./index.html">
      <img src="../img/logoreta.png" alt="Logo" class="logo-navbar">
    </a>
  </div>

  <div class="navbar-center">
    <div class="search-box">
      <input type="text" placeholder="Pesquisar...">
      <i class="bi bi-search"></i>
    </div>

    <ul class="menu-navbar">
      <li><a href="./homepageAluno.html">P√°gina inicial</a></li>
      <li><a href="./indicacoes.html">Indica√ß√µes</a></li>
      <li><a href="./lista.html">Lista de desejo</a></li>
      <li><a href="./areaAluno.html" class="active">√Årea do aluno</a></li>
      <li><a href="./meusLivros.html">Meus livros</a></li>
      <li><a href="./eventos.html">Eventos</a></li>
      <li><a href="./biblioteca.html">Biblioteca</a></li>
    </ul>
  </div>

 <div class="navbar-right">
    <a href="./areaAluno.html#notificacoes" class="icon-btn">
      <i class="bi bi-bell"></i>
    </a>
   <div class="perfil-dropdown">
    <img src="" id="avatarPerfil" class="avatar-navbar" alt="Avatar do Usu√°rio" />

  <div class="menu-perfil" id="menuPerfil">
    <a href="#"> Perguntas frequentes</a>
      <hr class="menu-divider">
    <a href="#"> Entre em contato</a>
      <hr class="menu-divider">
    <a href="index.html" onclick="logout()"> Logout</a>
  </div>
</div>
  </div>
</nav>


  <!--Header-->
  <!-- Carousel -->
  <div id="demo" class="carousel slide" data-bs-ride="carousel">


    <br><br>

    <!--About-->
    <section class="page-section mb-0" id="about" style="background-color: grey;">
      <div class="container">
        <!-- About Section Heading-->
        <!-- Icon Divider-->
        <div class="divider-custom divider-light">
          <div class="divider-custom-line"></div>
          <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
          <div class="divider-custom-line"></div>
        </div>

        <section class="page-section mb-0" id="about" style="background-color: grey;">
          <div class="container">
            <div class="row justify-content-center text-center my-4">
              <h1 style="color: #FFFFFF; font-size: 50px;">√Årea do Aluno</h1>
            </div>
          </div>
        </section>
        

      </div>
    </section>
    <br><br>
<!--Perfil-->
<section class="page-section mb-0" id="about" style="background-color: #775e47;">
  <div class="container">
    <div class="divider-custom divider-light">
      <div class="divider-custom-line"></div>
      <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
      <div class="divider-custom-line"></div>
    </div>

    <div class="row">
      <!-- Foto -->
      <img src="" 
id="avatarPerfilPagina" 
class="avatar-navbar"
style="width: 500px; height: 500px; border-radius: 50%; object-fit: cover; border: 10px solid #C2A878;">



      <!-- Formul√°rio -->
      <div class="col-lg-6">
        <h2 class="form-title">√Årea do Aluno</h2>
        <form class="form-limpo">

          <label for="fname">Nome:</label>
          <input type="text" id="fname" name="fname" disabled>

          <label for="email">E-mail:</label>
          <input type="text" id="email" name="email" disabled>

          <label for="phone">Telefone:</label>
          <input type="text" id="phone" name="phone">

          <div class="double-group">
            <div class="input-with-label">
              <label for="curso">Curso:</label>
              <input type="text" id="curso" name="curso" disabled>
            </div>

            <div class="input-with-label">
              <label for="serie">S√©rie:</label>
              <input type="text" id="serie" name="serie" disabled>
            </div>
          </div>

          <div class="col-md-6">
            <label for="senha">Senha</label>
            <div class="input-group shadow-sm">
              <input type="password" id="senha" class="form-control" autocomplete="current-password" />
              <span class="input-group-text" onclick="toggleSenha()" style="cursor: pointer;">
                <i class="bi bi-eye-slash" id="toggleSenha"></i>
              </span>
            </div>
            <div id="avisoSenha" style="color: red; font-size: 0.9em; margin-top: 4px; display: none;"></div>
          </div>

          <!-- Bot√£o Editar -->
          <div class="mt-3">
            <button id="btnEditar" class="btn-editar" type="button">Editar</button>

          </div>

        </form>
      </div>
    </div>
  </div>
</section>


    <br><br><br><br>
    <!-- Container centralizador -->
    <div class="centraliza-container" id="notificacoes">
      <!-- Container de notifica√ß√µes -->
      <div class="notifications-container ">
        <h2 class="text-center mb-4">Notifica√ß√µes</h2>

        <!-- Card 1 -->
        <div class="card-livro mb-2 notification-card">
          <div class="row g-0">
            <div class="col-md-4">
              <img src="../img/biba.png" class="card-img" />
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">Card title</h5>
                <p class="card-text">
                  Este √© um card com um texto de notifica√ß√£o um pouco mais longo.
                </p>
                <p class="card-text">
                  <small class="text-muted">√öltima atualiza√ß√£o h√° 3 minutos</small>
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Card 2 -->
        <div class="card-livro mb-3 notification-card">
          <div class="row g-0">
            <div class="col-md-4">
              <img src="../img/biba.png" class="card-img" />
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">Outra notifica√ß√£o</h5>
                <p class="card-text">
                  Texto de apoio ou mensagem enviada pelo sistema.
                </p>
                <p class="card-text">
                  <small class="text-muted">√öltima atualiza√ß√£o h√° 1 hora</small>
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Card 3 -->
        <div class="card-livro mb-3 notification-card">
          <div class="row g-0">
            <div class="col-md-4">
              <img src="../img/biba.png" class="card-img" />
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">Atualiza√ß√£o de dados</h5>
                <p class="card-text">
                  Lembre-se de atualizar suas informa√ß√µes na √°rea do aluno.
                </p>
                <p class="card-text">
                  <small class="text-muted">Atualizado ontem</small>
                </p>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <br><br><br><br>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4 mt-5">
      <div class="container d-flex justify-content-between align-items-start">

        <div>
          <h5>Desenvolvedores</h5>
          <ul class="list-unstyled">
            <li><strong>Ana Laura</strong> ‚Äì pesquisadora</li>
            <li><strong>Camila</strong> ‚Äì designer</li>
            <li><strong>Guilherme P.</strong> ‚Äì pesquisador</li>
            <li><strong>Joyce</strong> ‚Äì l√≠der do projeto</li>
            <li><strong>Juan</strong> ‚Äì designer</li>
            <li><strong>Vinicius R.</strong> ‚Äì programador</li>
          </ul>
        </div>

        <div>
          <h5>Contatos</h5>
          <ul class="list-unstyled">
            <li><strong>E-mail:</strong> tccbiblioteca023@gmail.com</li>
            <li><strong>Instagram:</strong> @bibliONtec</li>
          </ul>
        </div>

        <div class="text-start" style="max-width: 200px;">
          <h5>Sobre</h5>
          <p class="mb-0">Site para gest√£o de biblioteca e intera√ß√£o com usu√°rios.</p>
        </div>


      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", async () => {  
  const token = localStorage.getItem("token");
  if (!token) return;

  try {
    const response = await fetch(`${apiBase()}/usuarioLogado`, {
      headers: { "Authorization": "Bearer " + token }
    });

    const dados = await response.json();

    const foto = dados.foto
      ? `${apiBase()}/uploads/${dados.foto}`
      : `${apiBase()}/uploads/padrao.jpg`;

    // üëá Aqui √© a corre√ß√£o principal:
    document.getElementById("avatarPerfil").src = foto;         // Navbar
    document.getElementById("avatarPerfilPagina").src = foto;   // √Årea do aluno

  } catch (err) {
    console.error("Erro ao carregar foto do usu√°rio", err);
  }
});
      </script>
      

    <script>
      function aplicarEspacoNavbar() {
        const nav = document.querySelector('.navbar-custom');
        if (!nav) return;
        const h = nav.offsetHeight;
        document.documentElement.style.setProperty('--nav-offset', h + 'px');
      }
      window.addEventListener('load', aplicarEspacoNavbar);
      window.addEventListener('resize', aplicarEspacoNavbar);
      
    </script>
    
    



    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"></script>
      <script src="../java/script.js"></script>
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
      <script src="../../acessibilidade.js"></script>
</body>

</html>