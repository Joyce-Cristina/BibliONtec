<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BibliOnTec - P√°gina inicial</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" defer></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #f0e6d2;
      font-family: Arial, sans-serif;
      height: 100vh;
      display: flex;
      flex-direction: column;
      font-size: 17px;
    }

    .navbar,
    .sidebar,
    .sidebar a,
    .sidebar button.dropdown-toggle {
      font-size: 17px;
    }

    .navbar {
      background-color: #7a1505;
      z-index: 1050;
    }

    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 220px;
      height: 100vh;
      background-color: #7a1505;
      padding: 76px 20px 20px 20px;
      color: white;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
      z-index: 1040;
    }

    .dropdown-menu {
      background-color: #691400;
    }

    .dropdown-item {
      background-color: #691400;
    }

    .dropdown-item:hover {
      background-color: #a82010;
      color: white;
    }

    .dropdown-item.active {
      background-color: #4d0f03 !important;
      color: white !important;
    }

    .sidebar a,
    .sidebar button.dropdown-toggle {
      display: block;
      background-color: #7a1505;
      color: white;
      margin-bottom: 10px;
      text-align: left;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .sidebar a:hover,
    .sidebar button.dropdown-toggle:hover {
      background-color: #a82010;
      color: white;
    }

    .sidebar>a.active {
      background-color: #4d0f03 !important;
      color: white !important;
      box-shadow: none !important;
    }

    .sidebar>button.dropdown-toggle.active {
      background-color: #7a1505 !important;
      color: white !important;
      box-shadow: none !important;
    }

    .main-container {
      flex: 1;
      padding-left: 270px;
      /* ajustado para navbar */
      padding-right: 30px;
    }


    .filtro-dropdown {
      background-color: #ffff !important;
      max-height: 300px;
      overflow-y: auto;
      border-radius: 12px;
      padding: 0;
    }

    .filtro-dropdown .dropdown-item {
      color: #000 !important;
      padding: 10px 15px;
      background-color: transparent !important;
    }

    .item-com-linha {
      border-bottom: 1px solid #c2c2c2;
    }

    .filtro-dropdown .dropdown-item:hover {
      background-color: #e6e6e6 !important;
    }

    .filtro-dropdown::-webkit-scrollbar {
      width: 6px;
    }

    .filtro-dropdown::-webkit-scrollbar-thumb {
      background-color: #666;
      border-radius: 10px;
    }

    .filtro-dropdown::-webkit-scrollbar-track {
      background-color: transparent;
    }

    .notificacao-dropdown {
      background-color: #ffffff;
      min-width: 250px;
      max-width: 100%;
      max-height: 300px;
      overflow-y: auto;
      border-radius: 0px;
      padding: 0;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      margin-left: -20px;
    }

    .notificacao-dropdown .dropdown-item {
      background-color: #ffffff;
      color: #333333;
      padding: 15px 20px;
      border: none;
      border-bottom: 1px solid #ddd;
      font-size: 16px;
    }

    .notificacao-dropdown .dropdown-item:hover {
      background-color: #f0f0f0;
    }

    .notificacao-dropdown .dropdown-item.active {
      background-color: #a82010;
      color: white;
    }

    /* Avatar flutuante */
    .avatar-container {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 1051;
    }

    .avatar-navbar {
      width: 50px;
      height: 50px;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.3);
    }

    /* Menu do avatar */
    .menu-perfil {
      display: none;
      position: absolute;
      bottom: 60px;
      left: 0;
      background-color: #ffffff;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      min-width: 200px;
    }

    .menu-perfil.show {
      display: block;
    }

    .menu-perfil .dropdown-item {
      padding: 12px 16px;
      text-decoration: none;
      color: #333;
      display: block;
      background-color: #fff;
      transition: background-color 0.2s;
    }

    .menu-perfil .dropdown-item:hover {
      background-color: #f5f5f5;
    }

    .menu-divider {
      margin: 0;
      border: none;
      border-top: 1px solid #ccc;
    }

    /* altura t√≠pica da navbar do Bootstrap ~56‚Äì60px */
    .main-container,
    .main-container-custom {
      padding-top: 50px !important;
      /* evita que o conte√∫do fique escondido sob a navbar */
    }

    /* Estilo para o bot√£o "Novo bibliotec√°rio" */
    .btn-new-user {
      background-color: #7a1600;
      /* Cor de fundo do bot√£o */
      color: white;
      /* Cor do texto */
      border-radius: 50px;
      padding: 10px 20px;
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 2px 4px 6px rgba(0, 0, 0, 0.2);
      transition: background-color 0.3s ease;
      margin-left: 10px;
      max-height: 45px;
      margin-top: 13px;
      margin-right: 10px;
    }

    .btn-new-user:hover {
      background-color: #5c0e00;
      color: rgb(146, 146, 146);
      /* Cor de fundo ao passar o mouse */
    }

    .btn-new-user i {
      font-size: 1.4rem;
      /* Tamanho do √≠cone */
    }

    /* Select status */
    .status-select {
      font-weight: bold;
      color: #000;
      background-color: #fff;
      border: 1px solid #ccb182;
      border-radius: 25px;
      padding: 10px 20px;
      min-width: 180px;
    }

    /* Responsivo */
    @media (max-width: 768px) {
      .main-container {
        flex-direction: column;
        align-items: center;
      }

      .side-controls {
        flex-direction: row;
        justify-content: center;
        width: 100%;
        gap: 10px;
      }

      .status-select {
        min-width: 120px;
      }
    }

    /* Barra de pesquisa */
    .search-input {
      border-radius: 25px;
      padding-left: 20px;
      font-size: 16px;
      flex: 1;
    }

    /* Estilo do bot√£o de pesquisa */
    .search-btn {
      background-color: #fff;
      border: 1px solid #d2b28c;
      border-radius: 25px;
      padding: 10px 20px;
      font-size: 18px;
    }

    .main-container {
      padding-left: 270px;
      /* espa√ßo para sidebar no desktop */
    }

    @media (max-width: 992px) {
      body.acervo-page .main-container {
        padding-left: 0 !important;
        /* remove espa√ßo quando sidebar est√° oculta */
      }
    }

    /* Responsivo */
    @media (max-width: 800px) {
      .sidebar {
        position: relative;
        height: auto;
        width: 100%;
        border-radius: 0;
        padding: 10px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
      }

      .sidebar a,
      .sidebar button.dropdown-toggle {
        margin-bottom: 0;
        flex: 1 1 auto;
        text-align: center;
        padding: 8px 5px;
      }

      .main-container {
        padding-left: 0;
      }

      .content {
        width: 100%;
        max-width: 100%;
        margin-top: 10px;
      }
    }

    #cardsContainer {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      /* sempre 3 por fileira */
      gap: 20px;
      justify-items: center;
      max-width: 1200px;
      margin: 30px auto 0;
    }

    /* Responsividade */
    @media (max-width: 992px) {
      #cardsContainer {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 576px) {
      #cardsContainer {
        grid-template-columns: 1fr;
      }
    }

    /* Estilo dos cards */
    #cardsContainer .card {
      width: 100%;
      max-width: 320px;
      /* üî• mais largura */
      min-height: 320px;
      /* üî• menos altura */
      max-height: 360px;
      background-color: #d6c9b4;
      border-radius: 10px;
      display: flex;
      flex-direction: column;
    }

    #cardsContainer .card-img-top {
      height: 160px;
      /* üî• antes era 200px, agora menor */
      object-fit: cover;
      border-radius: 10px 10px 0 0;
    }

    #cardsContainer .card-body {
      flex: 1;
      text-align: center;
      padding: 10px;
      overflow: hidden;
    }

    #cardsContainer .card-body p {
      font-size: 14px;
      margin: 3px 0;
    }

    #cardsContainer .card-body .text-truncate {
      max-height: 30px;
      /* üî• limita mais a sinopse */
      overflow: hidden;
      text-overflow: ellipsis;
    }
/* Barra de pesquisa */
.search-input {
            border-radius: 25px;
            padding-left: 20px;
            font-size: 16px;
            flex: 1;
        }

        /* Estilo do bot√£o de pesquisa */
        .search-btn {
            background-color: #fff;
            border: 1px solid #d2b28c;
            border-radius: 25px;
            padding: 10px 20px;
            font-size: 18px;
        }

/* === search-box (igual homepageAluno) === */
.search-box {
  background-color: #fff;
  border-radius: 10px;
  padding: 6px 12px;
  display: flex;
  align-items: center;
  width: 400px;
}
.search-box input {
  border: none;
  outline: none;
  flex: 1;
  padding: 6px 8px;
  font-size: 16px;
}
.search-box i {
  font-size: 18px;
  color: #000;
}
/* responsivo */
@media (max-width: 992px) {
  .search-box { width: 300px; }
}

/* responsivo */
@media (max-width: 992px) {
  .search-box { width: 300px; }
}
.main-container .container {
  margin-top: 10px !important;  /* reduz dist√¢ncia do cabe√ßalho */
  margin-bottom: 20px;          /* mant√©m espa√ßo antes dos cards */
}

  </style>
</head>

<body class="acervo-page">
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid d-flex align-items-center" style="gap: 0;">
      <a class="navbar-brand" href="./homepageAdm.html">
        <img src="../img/logoreta.png" alt="Logo" style="height: 50px; width: auto;">
      </a>
      <!-- Bot√£o hamburguer sem data-bs-toggle/data-bs-target -->
      <button class="navbar-toggler" type="button">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0"></ul>
        <form class="d-flex">
          <ul class="navbar-nav mb-2 mb-lg-0 me-3">
            <li class="nav-item">
              <a class="nav-link" href="#" style="color: white;">
                <i class="bi bi-bell" style="font-size: 1.4rem;"></i>
              </a>
            </li>
          </ul>
          <ul class="navbar-nav mb-2 mb-lg-0 me-3">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
                aria-expanded="false" style="color: white;">
                Atualiza√ß√µes
              </a>
              <ul class="dropdown-menu notificacao-dropdown" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="#">Foi adicionado um <br>elemento novo <br> no sistema</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="#">Foi exclu√≠do um <br> elemento antigo <br> no sistema</a></li>
                <li>
                  <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="#">Foi alterado um <br> elemento no sistema</a></li>
              </ul>
            </li>
          </ul>
        </form>
      </div>
    </div>
  </nav>



  <div class="sidebar">
    <div class="dropdown" data-permissao="cadastro">
      <button class="btn dropdown-toggle w-100" type="button" data-bs-toggle="dropdown">Cadastro</button>
      <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="./cadAluno.html" data-permissao="cadAluno">Aluno</a></li>
        <li><a class="dropdown-item" href="./cadLivro.html" data-permissao="cadLivro">Livro</a></li>
        <li><a class="dropdown-item" href="./cadFunc.html" data-permissao="cadFunc">Funcion√°rio</a></li>
        <li><a class="dropdown-item" href="./cadEvento.html" data-permissao="cadEvento">Evento</a></li>
      </ul>
    </div>
    <a class="btn w-100" href="./emprestimo.html" data-permissao="emprestimo">Empr√©stimo</a>
    <a class="btn w-100" href="./etiqueta.html" data-permissao="etiqueta">Etiqueta</a>
    <a class="btn w-100" href="./areaAdm.html" data-permissao="configAdm2">Administrador</a>
    <a class="btn w-100 active" href="./acervo.html" data-permissao="acervo">Acervo</a>
    <a class="btn w-100" href="./usuarios.html" data-permissao="usuarios">Usu√°rios</a>
    <a class="btn w-100" href="./funcionarios.html" data-permissao="funcionarios">Funcion√°rios</a>
  </div>

  <!-- Conte√∫do principal -->
  <div class="main-container">

    <!-- Container que une o card e o bot√£o lado a lado -->
    <div class="d-flex justify-content-center align-items-start gap-3 mb-4">

      <!-- Card Cabe√ßalho Centralizado -->
      <div class="p-4 shadow text-center flex-grow-1"
        style="background-color: #dab57e; border-radius: 15px; max-width: 800px;">
        <h2 style="font-family: Georgia, serif; font-weight: 500;">Seus livros</h2>
        <p style="font-weight: bold;">Esta p√°gina √© para visualizar todos os seus livros cadastrados.</p>
        <div class="d-flex justify-content-center align-items-center mt-3" style="gap: 8px;">
          <div class="search-box">
          <input type="text" placeholder="Buscar usu√°rio...">
          <i class="bi bi-search"></i>
        </div>
        </div>
      </div>

      <!-- Bot√£o Novo bibliotec√°rio -->
      <div>
        <button class="btn btn-new-user" type="button" data-bs-toggle="modal" data-bs-target="#newUserModal">
          <i class="bi bi-arrow-bar-down"></i> Importar Excel
        </button>
      </div>
    </div>
    
  </div>





  <!-- Filtros -->
  <div class="container my-4">
    <div class="d-flex justify-content-center gap-3 flex-wrap">

      <!-- Filtro: Autor -->
      <div class="dropdown">
        <button class="btn dropdown-toggle text-white" type="button" data-bs-toggle="dropdown"
          style="background-color: #5e4028; border-radius: 12px; min-width: 130px;">
          Autor
        </button>
        <ul class="dropdown-menu filtro-dropdown">
          <li><a class="dropdown-item item-com-linha" href="#">Machado Assis</a></li>
          <li><a class="dropdown-item item-com-linha" href="#">Junji Ito</a></li>
          <li><a class="dropdown-item" href="#">Jos√©</a></li>
        </ul>
      </div>

      <!-- Filtro: Editora -->
      <div class="dropdown">
        <button class="btn dropdown-toggle text-white" type="button" data-bs-toggle="dropdown"
          style="background-color: #5e4028; border-radius: 12px; min-width: 130px;">
          Editora
        </button>
        <ul class="dropdown-menu filtro-dropdown">
          <li><a class="dropdown-item item-com-linha" href="#">Panini</a></li>
          <li><a class="dropdown-item item-com-linha" href="#">New Pop</a></li>
          <li><a class="dropdown-item" href="#">Intrinsica</a></li>
        </ul>
      </div>

      <!-- Filtro: G√™nero -->
      <div class="dropdown">
        <button class="btn dropdown-toggle text-white" type="button" id="btnGenero" data-bs-toggle="dropdown"
          style="background-color: #5e4028; border-radius: 12px; min-width: 130px;">
          G√™nero
        </button>
        <ul id="listaGeneros" class="dropdown-menu filtro-dropdown">
        </ul>
      </div>



      <!-- Cards dos Livros -->
      <section class="page-section text-white mb-0" id="wishlist">
        <div class="container my-5">
          <div id="cardsContainer" class="row justify-content-center g-4">



          </div>
        </div>
      </section>

    </div>
    <div class="modal fade" id="modal-editar-livro" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content" style="background-color: #fff; border-radius: 10px;">
      <div class="modal-header">
        <h5 class="modal-title fw-bold">Editar Livro</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <form id="form-editar-livro" enctype="multipart/form-data">
          <!-- Linha 1: T√≠tulo e ISBN -->
          <div class="row mb-3">
            <div class="col-md-6 form-line">
              <label for="titulo-livro">T√≠tulo:</label>
              <input type="text" class="form-control" id="titulo-livro" name="titulo" required>
            </div>
            <div class="col-md-6 form-line">
              <label for="isbn-livro">ISBN:</label>
              <input type="text" class="form-control" id="isbn-livro" name="isbn">
            </div>
          </div>
        
          <!-- Linha 2: G√™nero e Editora -->
          <div class="row mb-3">
            <div class="col-md-6 form-line">
              <label for="genero-livro">G√™nero:</label>
              <select class="form-select" id="genero-livro" name="generoId" required>
                <!-- options ser√£o preenchidos via JS -->
              </select>
            </div>
            <div class="col-md-6 form-line">
              <label for="editora-livro">Editora:</label>
              <select class="form-select" id="editora-livro" name="editoraId" required>
                <!-- options ser√£o preenchidos via JS -->
              </select>
            </div>
          </div>
        
          <!-- Linha 3: Autores e P√°ginas -->
          <div class="row mb-3">
            <div class="col-md-6 form-line">
              <label for="autores-livro">Autores:</label>
              <select class="form-select" id="autores-livro" name="autorId">
                <!-- options ser√£o preenchidos via JS -->
              </select>
            </div>
            <div class="col-md-6 form-line">
              <label for="paginas-livro">P√°ginas:</label>
              <input type="number" class="form-control" id="paginas-livro" name="paginas">
            </div>
          </div>
        
          <!-- Linha 4: Sinopse -->
          <div class="mb-3">
            <label for="sinopse-livro">Sinopse:</label>
            <textarea class="form-control" id="sinopse-livro" name="sinopse" rows="3"></textarea>
          </div>
        
          <!-- Linha 5: Capa -->
          <div class="mb-3 text-center">
            <label for="capa-livro" class="form-label">Capa do Livro</label>
            <input type="file" class="form-control mb-2" id="capa-livro" name="capa" accept="image/*">
            <img id="preview-capa" src="" alt="Pr√©-visualiza√ß√£o da capa"
                 style="max-width: 150px; max-height: 200px; display: none; border: 1px solid #ccc; border-radius: 8px;">
          </div>
        
          <input type="hidden" id="id-livro" name="id">
        
          <div class="text-center">
            <button type="submit" class="btn btn-primary ms-2">Salvar Altera√ß√µes</button>
            <button type="button" class="btn btn-secondary ms-2" data-bs-dismiss="modal">Cancelar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

    <!-- Bot√£o de acessibilidade -->
    <div style="position: fixed; bottom: 20px; right: 20px; z-index: 999;">
      <button class="btn btn-dark rounded-3" style="width: 50px; height: 50px;">
        <i class="bi bi-universal-access" style="font-size: 1.5rem;"></i>
      </button>
    </div>

    <!-- Avatar com menu fixado no canto inferior esquerdo -->
    <div class="avatar-container">
      <img src="http://localhost:3000/uploads/padrao.jpg" id="avatarPerfil" class="avatar-navbar"
        alt="Avatar do Usu√°rio" />
      <div id="menuPerfil" class="menu-perfil">
        <a href="./areaAdm.html" class="dropdown-item">Meu Perfil</a>
        <hr class="menu-divider">
        <a href="#" class="dropdown-item">Perguntas Frequentes</a>
        <hr class="menu-divider">
        <a href="./index.html" class="dropdown-item" onclick="logout()">Sair</a>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const toggler = document.querySelector(".navbar-toggler");
        const sidebar = document.querySelector(".sidebar");
        const backdrop = document.getElementById("sidebar-backdrop");

        function openSidebar() {
          sidebar.classList.add("show");
          if (window.innerWidth <= 1200 && backdrop) backdrop.classList.add("active");
        }
        function closeSidebar() {
          sidebar.classList.remove("show");
          if (backdrop) backdrop.classList.remove("active");
        }

        if (toggler && sidebar) {
          toggler.addEventListener("click", function (e) {
            e.stopPropagation();
            if (sidebar.classList.contains("show")) {
              closeSidebar();
            } else {
              openSidebar();
            }
          });
        }

        /* Clicar no backdrop fecha */
        if (backdrop) backdrop.addEventListener("click", closeSidebar);

        /* Clicar fora da sidebar fecha */
        document.addEventListener("click", function (e) {
          if (
            window.innerWidth <= 1200 &&
            sidebar.classList.contains("show") &&
            !sidebar.contains(e.target) &&
            !toggler.contains(e.target)
          ) {
            closeSidebar();
          }
        });

        /* Ao redimensionar, limpa estados para evitar sobreposi√ß√£o */
        window.addEventListener("resize", function () {
          if (window.innerWidth > 1200) {
            if (backdrop) backdrop.classList.remove("active");
          } else {
            closeSidebar();
          }
        });
      });
    </script>

    <script src="../java/acervo.js"></script>
    <script src="../java/script.js"></script>

</body>

</html>